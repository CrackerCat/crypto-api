<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Benchamark</title>
    <link rel="stylesheet" href="https://cdn.rawgit.com/kupriyanenko/astrobench/master/src/style.css">
</head>
<body>
<div id="astrobench"></div>
<script src="https://cdn.rawgit.com/kupriyanenko/astrobench/master/dist/astrobench.min.js"></script>
<script src="../lib/crypto-api.js"></script>
<script src="../src/encoder/hex.js"></script>
<script src="../src/hasher/hasher.md5.js"></script>
<script src="../src/hasher/hasher.sha1.js"></script>
<script src="../src/hasher/hasher.sha256.js"></script>
<script src="../src/hasher/hasher.sha512.js"></script>
<script src="https://cdn.rawgit.com/brix/crypto-js/master/crypto-js.js"></script>
<script src="https://cdn.rawgit.com/h2non/jshashes/master/hashes.js"></script>
<script src="https://cdn.rawgit.com/Caligatio/jsSHA/master/src/sha.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/asmCrypto/0.0.11/asmcrypto.js"></script>
<script>
    suite('MD5 with HEX result', function(suite) {
        setup(function() {
            suite.hash = CryptoApi.hash('md5', '', {}).stringify('hex');
        });
        bench('CryptoApi', function() {
            !! (suite.result = CryptoApi.hash('md5', suite.hash, {}).stringify('hex'));
        });
        bench('CryptoJS', function() {
            !! (suite.result = CryptoJS.enc.Hex.stringify(CryptoJS.MD5(suite.hash)));
        });
        bench('jsHashes', function() {
            !! (suite.result = (new Hashes.MD5).hex(suite.hash));
        });
    });
    suite('MD5 update', function(suite) {
        setup(function() {
            suite.hash = CryptoApi.hash('md5', '', {}).stringify('hex');
            suite.cryptoApi = CryptoApi.hasher('md5', {});
            suite.cryptoJS = CryptoJS.algo.MD5.create();
        });
        bench('CryptoApi', function() {
            !! (suite.cryptoApi.update(suite.hash));
        });
        bench('CryptoJS', function() {
            !! (suite.cryptoJS.update(suite.hash));
        });
    });
    suite('SHA1 with HEX result', function(suite) {
        bench('CryptoApi', function() {
            !! CryptoApi.hash('sha1', 'xxx', {}).stringify('hex');
        });
        bench('CryptoJS', function() {
            !! CryptoJS.enc.Hex.stringify(CryptoJS.SHA1('xxx'));
        });
        bench('jsHashes', function() {
            !! (new Hashes.SHA1).hex('xxx');
        });
        bench('jsSHA', function() {
            var hash = new jsSHA('SHA-1', 'TEXT');
            hash.update('xxx');
            hash.getHash('HEX');
        });
        bench('asmCrypto', function() {
            !! (asmCrypto.SHA1.hex('xxx'));
        });
    });
    suite('SHA1 update', function(suite) {
        setup(function() {
            suite.hash = CryptoApi.hash('sha1', '', {}).stringify('hex');
            suite.cryptoApi = CryptoApi.hasher('sha1', {});
            suite.cryptoJS = CryptoJS.algo.SHA1.create();
            suite.jsSHA = new jsSHA('SHA-1', 'TEXT');
        });
        bench('CryptoApi', function() {
            !! (suite.cryptoApi.update(suite.hash));
        });
        bench('CryptoJS', function() {
            !! (suite.cryptoJS.update(suite.hash));
        });
        bench('jsSHA', function() {
            !! (suite.jsSHA.update(suite.hash));
        });
    });
    suite('SHA256 with HEX result', function(suite) {
        bench('CryptoApi', function() {
            !! CryptoApi.hash('sha256', 'xxx', {}).stringify('hex');
        });
        bench('CryptoJS', function() {
            !! CryptoJS.enc.Hex.stringify(CryptoJS.SHA256('xxx'));
        });
        bench('jsHashes', function() {
            !! ((new Hashes.SHA256).hex('xxx'));
        });
        bench('jsSHA', function() {
            var hash = new jsSHA('SHA-256', 'TEXT');
            hash.update('xxx');
            hash.getHash('HEX');
        });
        bench('asmCrypto', function() {
            !! (asmCrypto.SHA256.hex('xxx'));
        });
    });
    suite('SHA256 update', function(suite) {
        setup(function() {
            suite.hash = CryptoApi.hash('sha256', '', {}).stringify('hex');
            suite.cryptoApi = CryptoApi.hasher('sha256', {});
            suite.cryptoJS = CryptoJS.algo.SHA256.create();
            suite.jsSHA = new jsSHA('SHA-256', 'TEXT');
        });
        bench('CryptoApi', function() {
            !! (suite.cryptoApi.update(suite.hash));
        });
        bench('CryptoJS', function() {
            !! (suite.cryptoJS.update(suite.hash));
        });
        bench('jsSHA', function() {
            !! (suite.jsSHA.update(suite.hash));
        });
    });
    suite('SHA512 with HEX result', function(suite) {
      bench('CryptoApi', function() {
        !! CryptoApi.hash('sha512', 'xxx', {}).stringify('hex');
      });
      bench('CryptoJS', function() {
        !! CryptoJS.enc.Hex.stringify(CryptoJS.SHA512('xxx'));
      });
      bench('jsHashes', function() {
        !! (new Hashes.SHA512).hex('xxx');
      });
      bench('jsSHA', function() {
        var hash = new jsSHA('SHA-512', 'TEXT');
        hash.update('xxx');
        hash.getHash('HEX');
      });
    });

    suite('SHA512 update', function(suite) {
      setup(function() {
        suite.hash = CryptoApi.hash('sha512', '', {}).stringify('hex');
        suite.cryptoApi = CryptoApi.hasher('sha512', {});
        suite.cryptoJS = CryptoJS.algo.SHA512.create();
        suite.jsSHA = new jsSHA('SHA-512', 'TEXT');
      });
      bench('CryptoApi', function() {
        !! (suite.cryptoApi.update(suite.hash));
      });
      bench('CryptoJS', function() {
        !! (suite.cryptoJS.update(suite.hash));
      });
      bench('jsSHA', function() {
        !! (suite.jsSHA.update(suite.hash));
      });
    });
</script>
</body>
</html>